<div class="page with-filter">
  <app-filter-panel
    [groups]="filterGroups"
    [state]="filterState"
    (stateChange)="filterState = $event"
    (clear)="filterState = {}"
  ></app-filter-panel>

  <div class="content">
    <div *ngFor="let exp of filteredExperiences" 
        class="experience-card" 
        [ngClass]="exp.type"
        (click)="toggleCard(exp)">

      <div class="card-header">
        <div class="type-label">{{ exp.type | titlecase }}</div>
        <h3>{{ exp.role }}</h3>
        <p><strong>{{ exp.organization }}</strong></p>
        <p>{{ exp.startDate }} to {{ exp.endDate }}</p>
        <div class="card-description" *ngIf="isExpanded(exp)">
          <ul>
            <li *ngFor="let d of exp.description">{{ d }}</li>
          </ul>
        </div>
        <div class="tags">
          <span *ngFor="let t of exp.tags" class="tag">{{ t }}</span>
        </div>
      </div>
    </div>
  </div>
</div>
